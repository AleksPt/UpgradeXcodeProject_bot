# Telegram бот для обновления версий Xcode проектов

Этот бот принимает zip архивы с проектами Xcode, увеличивает версию на 1, и возвращает обновленный архив.

## Что делает бот

- Увеличивает `MARKETING_VERSION` на 1 (например, 1.0 → 2.0)
- Увеличивает `CURRENT_PROJECT_VERSION` на 1 (например, 1 → 2)

## Развертывание на Railway

### 1. Подготовка

1. Создайте репозиторий на GitHub
2. Загрузите все файлы из этого проекта в репозиторий

### 2. Настройка Railway

1. Зарегистрируйтесь на [railway.app](https://railway.app)
2. Нажмите "New Project"
3. Выберите "Deploy from GitHub repo"
4. Выберите ваш репозиторий
5. Railway автоматически определит проект как Python и запустит его

### 3. Настройка переменных окружения

1. В Railway перейдите в Settings → Variables
2. Добавьте переменную:
   - **Name**: `BOT_TOKEN`
   - **Value**: ваш токен бота от @BotFather в Telegram

### 4. Получение токена бота

1. Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания бота
4. Скопируйте полученный токен
5. Вставьте токен в переменную окружения `BOT_TOKEN` в Railway

### 5. Проверка работы

1. После деплоя бот автоматически запустится
2. Найдите вашего бота в Telegram
3. Отправьте команду `/start`
4. Отправьте zip архив с проектом Xcode
5. Получите обновленный архив обратно

## Локальная разработка

Если хотите протестировать бота локально:

```bash
# Установите зависимости
pip install -r requirements.txt

# Установите переменную окружения
export BOT_TOKEN="ваш_токен_здесь"

# Запустите бота
python telegram_xcode_bot.py
```

## Структура проекта

```
telegram-xcode-bot/
├── telegram_xcode_bot.py  # Основной файл бота
├── requirements.txt        # Зависимости Python
├── Procfile               # Конфигурация для Railway
└── README.md             # Документация
```

## Обработка ошибок

Бот обрабатывает следующие ошибки:
- Отсутствие файлов project.pbxproj в архиве
- Некорректный формат архива
- Ошибки при обработке файлов

Все ошибки логируются и отправляются пользователю в понятном виде.

## Логирование

Логи доступны в Railway Dashboard → Deployments → View Logs

